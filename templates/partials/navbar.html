{% load static %} <!-- Cargar el tag static al inicio -->

<!-- Sidebar for large screens -->
<div class="sidebar d-none d-lg-block" data-color="orange" id="sidebar">
  <div class="logo text-center">
    <a href="#" class="simple-text logo-mini d-lg-none"> <!-- Logo mini para pantallas pequeñas -->
      GP
    </a>
    <a href="#">
      <img src="{% static 'assets/img/logo-empresa.png' %}" alt="Logo de la Empresa" class="img-fluid logo-large d-none d-lg-block" style="max-width: 180px; height: auto;"> <!-- Logo grande para pantallas grandes -->
    </a>
  </div>
  <div class="sidebar-wrapper">
    <ul class="nav">
      <!-- Inicio -->
      <li class="nav-item {% if request.resolver_match.url_name == 'index' %}active{% endif %}">
        <a class="nav-link" href="{% url 'index' %}">
          <i class="fa fa-home"></i>
          <p class="sidebar-item-text">Inicio</p>
        </a>
      </li>

      <!-- Reporte de Vehículos -->
      <li class="nav-item {% if request.resolver_match.url_name == 'reporte_vehiculos' %}active{% endif %}">
        <a class="nav-link" href="{% url 'reporte_vehiculos' %}">
          <i class="fa fa-car"></i>
          <p class="sidebar-item-text">Reporte de Vehículos</p>
        </a>
      </li>

      <!-- Reporte de Neumáticos -->
      <li class="nav-item {% if request.resolver_match.url_name == 'ver_neumaticos' %}active{% endif %}">
        <a class="nav-link" href="{% url 'ver_neumaticos' %}">
          <i class="fa fa-tools"></i>
          <p class="sidebar-item-text">Reporte de Neumáticos</p>
        </a>
      </li>

      <!-- Histórico de Datos -->
      <li class="nav-item {% if request.resolver_match.url_name == 'historico_datos' %}active{% endif %}">
        <a class="nav-link" href="{% url 'historico_datos' request.user.id %}">
          <i class="fa fa-database"></i>
          <p class="sidebar-item-text">Histórico de Datos</p>
        </a>
      </li>

      <!-- Administrador de Usuarios (solo para admin) -->
      {% if user.is_superuser %}
      <li class="nav-item has-dropdown {% if request.resolver_match.url_name == 'ver_usuarios' or request.resolver_match.url_name == 'crear_usuario' %}open{% endif %}">
        <a class="nav-link nav-dropdown-toggle" href="#" id="adminUserToggle">
          <i class="fa fa-check"></i>
          <p class="sidebar-item-text">Administrador de Usuarios</p>
        </a>
        <ul class="nav-dropdown-items collapse {% if request.resolver_match.url_name == 'ver_usuarios' or request.resolver_match.url_name == 'crear_usuario' %}show{% endif %}" id="adminUserOptions">
          <li class="nav-item {% if request.resolver_match.url_name == 'ver_usuarios' %}active{% endif %}">
            <a class="nav-link" href="{% url 'ver_usuarios' %}">Ver Usuarios</a>
          </li>
          <li class="nav-item {% if request.resolver_match.url_name == 'crear_usuario' %}active{% endif %}">
            <a class="nav-link" href="{% url 'crear_usuario' %}">Nuevo Usuario</a>
          </li>
        </ul>
      </li>

      <!-- Botón de Gestionar Averías (solo para admin) -->
      <li class="nav-item {% if request.resolver_match.url_name == 'ver_averias' %}active{% endif %}">
        <a class="nav-link" href="{% url 'ver_averias' %}">
          <i class="fa fa-exclamation-triangle"></i>
          <p class="sidebar-item-text">Gestionar Averías</p>
        </a>
      </li>

      <!-- Botón de Gestionar Medidas (solo para admin) -->
      <li class="nav-item {% if request.resolver_match.url_name == 'ver_medidas' %}active{% endif %}">
        <a class="nav-link" href="{% url 'ver_medidas' %}">
          <i class="fa fa-ruler-combined"></i>
          <p class="sidebar-item-text">Gestionar Medidas</p>
        </a>
      </li>

              <!-- Botón para la carga de inspecciones -->
        <li class="nav-item {% if request.resolver_match.url_name == 'cargar_inspecciones' %}active{% endif %}">
          <a class="nav-link" href="{% url 'cargar_inspecciones' %}">
            <i class="fa fa-upload"></i>
            <p class="sidebar-item-text">Cargar Inspecciones</p>
          </a>
        </li>


      {% endif %}
    </ul>
  </div>

  <!-- Botón de colapso del sidebar -->
  <div class="sidebar-footer">
    <button class="btn btn-secondary" id="toggleSidebar">
      <i class="fas fa-chevron-left"></i>
    </button>
  </div>
</div>